<!-- Default View -->
<ng-container *mediaQuery="'(min-width: 412px)'">
    <ng-container *ngVar="continentData$ | async as data">
        <table *ngIf="data" #stickyHeaders mat-table [dataSource]="data">
            <ng-container matColumnDef="Continent">
                <th mat-header-cell *matHeaderCellDef>Continent </th>
                <td mat-cell *matCellDef="let item"> {{item.continent}} </td>
            </ng-container>

            <ng-container matColumnDef="New">
                <th mat-header-cell *matHeaderCellDef>New Cases</th>
                <td mat-cell *matCellDef="let item"> {{item.newCases}} </td>
            </ng-container>

            <ng-container matColumnDef="NewPerc">
                <th mat-header-cell *matHeaderCellDef>% of World</th>
                <td mat-cell *matCellDef="let item"> {{item.percNewCasesOfWorld}}% </td>
            </ng-container>

            <ng-container matColumnDef="Active">
                <th mat-header-cell *matHeaderCellDef>Active Cases</th>
                <td mat-cell *matCellDef="let item"> {{item.activeCases}} </td>
            </ng-container>

            <ng-container matColumnDef="ActivePerc">
                <th mat-header-cell *matHeaderCellDef>% of World</th>
                <td mat-cell *matCellDef="let item"> {{item.percActiveCasesOfWorld}}% </td>
            </ng-container>

            <ng-container matColumnDef="Deaths">
                <th mat-header-cell *matHeaderCellDef>Deaths</th>
                <td mat-cell *matCellDef="let item"> {{item.deaths}} </td>
            </ng-container>

            <ng-container matColumnDef="DeathPerc">
                <th mat-header-cell *matHeaderCellDef>% of World</th>
                <td mat-cell *matCellDef="let item"> {{item.percDeathsOfWorld}}% </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </ng-container>
</ng-container>

<!-- Mobile View (Pixel 2)-->
<div *mediaQuery="'(max-width: 411px)'" class="mobile-view-wrapper">
    <mat-card *ngFor="let item of continentData$ | async">
        <mat-card-header>
            <mat-card-title>{{item.continent}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-list>
                <mat-list-item> New Cases: {{item.newCases}}</mat-list-item>
                <mat-list-item> Active Cases: {{item.activeCases}}</mat-list-item>
                <mat-list-item> Deaths: {{item.deaths}}</mat-list-item>
                <mat-list-item> Active % of World: {{item.percActiveCasesOfWorld}}%</mat-list-item>
                <mat-list-item> New % of World: {{item.percNewCasesOfWorld}}%</mat-list-item>
                <mat-list-item> Deaths % of World: {{item.percDeathsOfWorld}}%</mat-list-item>
            </mat-list>
        </mat-card-content>
    </mat-card>
</div>